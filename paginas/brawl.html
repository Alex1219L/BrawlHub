<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BrawlHub â€” Brawlers</title>
  <meta name="description" content="Lista completa de Brawlers de Brawl Stars â€” informaciÃ³n, rareza y clases." />
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; border: none; }
    html, body {
      height: 100%;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
      color: #f5f5f5;
    }

    :root {
      --card: rgba(255,255,255,0.08);
      --border: rgba(255,255,255,0.15);
      --accent: linear-gradient(90deg, #ffcc66, #ff9966);
      --accent-solid: #ffcc66;
      --maxW: 1100px;
    }

    .container {
      max-width: var(--maxW);
      margin: 0 auto;
      padding: 20px;
    }

    header {
      background: rgba(0,0,0,0.6);
      box-shadow: 0 4px 10px rgba(0,0,0,0.4);
      position: sticky;
      top: 0;
      z-index: 50;
    }

    .topbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 18px;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .logo {
      width: 48px;
      height: 48px;
      border-radius: 10px;
      background: var(--accent);
      color: #000;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 900;
      font-size: 1.1rem;
      box-shadow: 0 0 10px rgba(255,204,102,0.5);
    }

    .site-name {
      font-weight: 700;
      font-size: 1.2rem;
      color: #ffcc66;
    }

    nav ul {
      display: flex;
      gap: 16px;
      list-style: none;
    }

    nav a {
      color: #f5f5f5;
      text-decoration: none;
      padding: 8px;
      border-bottom: 2px solid transparent;
      transition: all 0.3s ease;
    }

    nav a:hover,
    nav a.active {
      border-bottom: 2px solid #ffcc66;
      color: #ffcc66;
    }

    .cta {
      background: var(--accent);
      padding: 8px 14px;
      border-radius: 25px;
      color: #000;
      font-weight: bold;
      text-decoration: none;
      transition: 0.3s;
    }

    .cta:hover { opacity: 0.9; }

    .menu-toggle {
      display: none;
      background: transparent;
      color: #fff;
      font-size: 1.5rem;
    }

    main h2 {
      font-size: 1.8rem;
      color: #ffcc66;
      margin-bottom: 10px;
    }

    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.4);
      margin-bottom: 25px;
    }

    .muted {
      color: #bbb;
      line-height: 1.6;
    }

    .controls {
      margin-top:20px;
      display:flex;
      gap:15px;
      flex-wrap:wrap;
      align-items:center;
    }

    .search-bar {
      padding: 10px 15px;
      border-radius: 25px;
      border: none;
      outline: none;
      background: rgba(255,255,255,0.08);
      color: #fff;
      width: 100%;
      max-width: 300px;
      margin-right: 10px;
      transition: box-shadow .15s;
    }

    .search-bar:focus { box-shadow: 0 0 0 4px rgba(255,204,102,0.08); }

    .filters {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .filter-pill {
      padding: 8px 14px;
      border-radius: 25px;
      background: rgba(255,255,255,0.06);
      color: #f5f5f5;
      font-weight: 500;
      cursor: pointer;
      transition: 0.18s;
      border: 1px solid transparent;
      user-select: none;
    }

    .filter-pill:hover { border-color: #ffcc66; color: #ffcc66; }
    .filter-pill.active { background: var(--accent); color: #000; font-weight:700; }

    .brawlers-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
      gap: 16px;
      margin-top: 20px;
    }

    .brawler-item {
      background: rgba(255,255,255,0.03);
      border: 1px solid var(--border);
      border-radius: 12px;
      text-align: center;
      color: #fff;
      padding: 10px;
      transition: transform 0.18s, box-shadow 0.18s;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 210px;
      justify-content: flex-start;
      position: relative;
    }

    .brawler-item:hover {
      transform: translateY(-6px);
      border-color: #ffcc66;
      box-shadow: 0 8px 24px rgba(0,0,0,0.5);
      z-index: 100; 
    }

    .brawler-avatar {
      width: 100%;
      height: 120px;
      border-radius: 12px;
      background: linear-gradient(135deg, #2b2b3a, #413b5a);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      margin-bottom: 10px;
      border: 1px solid rgba(255,255,255,0.06);
      position: relative;
    }

    .brawler-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display:block;
    }

    .brawler-name {
      font-weight: 700;
      color: #ffcc66;
      margin-top: 4px;
      font-size: 0.98rem;
      text-shadow: 0 1px 0 rgba(0,0,0,0.6);
      padding: 6px 8px;
      border-radius: 8px;
      background: rgba(0,0,0,0.12);
      margin-bottom: 8px;
      width: calc(100% - 16px);
    }

    .brawler-rarity {
      margin-top: 0px;
      padding: 6px 10px;
      border-radius: 12px;
      font-size: 0.78rem;
      font-weight: 800;
      display:inline-block;
      margin-bottom: 6px;
    }

    /* COLORES DE RAREZA */
    .rare-ComÃºn { background: #ffffff; color: #000; }
    .rare-Especial { background: #3cff73; color: #003300; }
    .rare-Superespecial { background: #001f5b; color: #fff; }
    .rare-Ã‰pico { background: #8000ff; color: #fff; }
    .rare-MÃ­tico { background: #ff0000; color: #fff; }
    .rare-Legendario { background: #ffd700; color: #000; }
    .rare-Ultralegendario {
      background: linear-gradient(90deg, red, orange, yellow, green, cyan, blue, violet);
      background-size: 200%;
      color: #000;
      animation: ultra 3s linear infinite;
    }
    @keyframes ultra {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    
    .brawler-tooltip {
      position: absolute;
      top: -20px; 
      left: calc(100% + 10px);
      z-index: 200; 
      width: 280px;
      background: rgba(15, 12, 41, 0.98); 
      border: 2px solid #ffcc66;
      border-radius: 12px;
      padding: 15px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.8);
      pointer-events: none; 

      
      opacity: 0;
      transform: scale(0.95);
      transition: opacity 0.3s ease, transform 0.3s ease;
    }

    
    .brawler-item:hover .brawler-tooltip {
      opacity: 1;
      transform: scale(1);
    }
    
    .brawler-item.tooltip-swap .brawler-tooltip {
      left: auto;
      right: calc(100% + 10px);
    }

    .tooltip-title {
      color: #ffcc66;
      font-size: 1.1rem;
      font-weight: 700;
      margin-bottom: 8px;
      border-bottom: 1px dashed rgba(255, 204, 102, 0.3);
      padding-bottom: 5px;
    }

    .tooltip-spec {
      font-size: 0.9rem;
      margin-bottom: 5px;
      color: #bbb;
    }

    .tooltip-spec strong {
      color: #fff;
      font-weight: 600;
    }


   
    @media (max-width: 900px) {
      .brawler-tooltip {
          display: none !important;
      }
    }
    @media (max-width: 768px) {
      nav ul { display: none; }
      .menu-toggle { display: block; }
      .brawlers-grid { grid-template-columns: repeat(auto-fill,minmax(130px,1fr)); }
      .search-bar { max-width: 100%; }
    }
  </style>
</head>
<body>
  <header>
    <div class="container topbar">
      <div class="brand">
        <div class="logo">BH</div>
        <div>
          <div class="site-name">BrawlHub</div>
          <div style="font-size:.8rem;color:#ccc;">Brawlers y estrategias</div>
        </div>
      </div>

      <nav>
        <button class="menu-toggle" aria-expanded="false">â˜°</button>
        <ul>
          <li><a href="../index.html">Inicio</a></li>
          <li><a href="brawl.html" class="active">Brawlers</a></li>
          <li><a href="modos.html">Modos</a></li>
          <li><a href="comunidad.html">Comunidad</a></li>
        </ul>
      </nav>

      <a class="cta" href="https://play.google.com/store/apps/details?id=com.supercell.brawlstars&hl=es_MX">Descargar</a>
    </div>
  </header>

  <main class="container">

    <section class="card">
      <h2>Todos los Brawlers</h2>
      <p class="muted">Explora la lista completa de Brawlers filtrada por rareza. Pasa el mouse sobre una tarjeta para ver sus especificaciones.</p>

      <div class="controls">
        <input id="searchInput" type="text" placeholder="Buscar Brawler..." class="search-bar" />
        <div id="filters" class="filters" aria-label="Filtros por rareza">
          </div>
      </div>

      <div id="brawlersGrid" class="brawlers-grid" aria-live="polite"></div>
    </section>

    <section class="card">
      <h3 style="color:#ffcc66;">Â¿CÃ³mo se clasifican los Brawlers?</h3>
      <p class="muted">Los personajes se clasifican por <strong>Rareza</strong> y puedes filtrarlos con las pÃ­ldoras de arriba.</p>
      <div style="margin-top:10px;">
        <span class="tag">Rareza: Legendario</span>
        <span class="tag">Clase: (visible en el tooltip al pasar el mouse)</span>
      </div>
    </section>

  </main>

  <footer>
    Â© 2025 BrawlHub â€¢ Hecho con ðŸ’› por fans de Brawl Stars
  </footer>

  <script>
    const toggle = document.querySelector('.menu-toggle');
    const navUL = document.querySelector('nav ul');
    toggle?.addEventListener('click', ()=> {
      const expanded = toggle.getAttribute('aria-expanded') === 'true';
      toggle.setAttribute('aria-expanded', String(!expanded));
      navUL.style.display = navUL.style.display === 'flex' ? '' : 'flex';
      navUL.style.flexDirection = 'column';
      navUL.style.gap = '10px';
      navUL.style.background = 'rgba(0,0,0,0.8)';
      navUL.style.padding = '10px';
      navUL.style.borderRadius = '10px';
    });

    /* ===== DATA: brawlers (con todos los datos completos) ===== */
   let brawlers = [
        { nombre: "Shelly", rareza: "ComÃºn", especialidad: "Luchadora", resumen: "Ataque de escopeta de corto alcance. Fuerte a corta distancia, ideal para emboscadas." },
        { nombre: "Nita", rareza: "Especial", especialidad: "Luchadora", resumen: "Lanza ondas de choque. Su SÃºper invoca a su oso, 'Bruce', para tanquear y atacar." },
        { nombre: "Colt", rareza: "Especial", especialidad: "Francotirador", resumen: "Dispara largas rÃ¡fagas de balas. Su SÃºper destruye obstÃ¡culos y tiene gran alcance." },
        { nombre: "Bull", rareza: "Especial", especialidad: "Peso Pesado", resumen: "Escopeta de corto alcance. Su SÃºper lo hace cargar destrozando muros, excelente para iniciar o escapar." },
        { nombre: "Brock", rareza: "Especial", especialidad: "Francotirador", resumen: "Lanza cohetes de largo alcance. Su SÃºper es una lluvia de cohetes que cubre una amplia Ã¡rea." },
        { nombre: "El Primo", rareza: "Especial", especialidad: "Peso Pesado", resumen: "Peleador cuerpo a cuerpo con altos PV. Salta muy lejos con su SÃºper, perfecto para saltar muros." },
        { nombre: "Poco", rareza: "Especial", especialidad: "Apoyo", resumen: "Curandero que ataca con ondas de mÃºsica. Su SÃºper cura a los aliados y a sÃ­ mismo a travÃ©s de muros." },
        { nombre: "Barley", rareza: "Especial", especialidad: "Lanzador", resumen: "Lanza botellas que dejan charcos de daÃ±o por tiempo. Excelente para denegar Ã¡reas." },
        { nombre: "Rosa", rareza: "Especial", especialidad: "Peso Pesado", resumen: "Boxeadora de ataque rÃ¡pido. Su SÃºper le da un potente escudo de vegetaciÃ³n, ideal para tanquear." },

        { nombre: "Jessie", rareza: "Superespecial", especialidad: "Luchadora", resumen: "Dispara orbes de energÃ­a rebotantes. Su torreta Scrappy es un apoyo defensivo/ofensivo fijo." },
        { nombre: "Dynamike", rareza: "Superespecial", especialidad: "Lanzador", resumen: "Lanza dinamita por encima de los muros. Su SÃºper es un gran barril explosivo con amplio daÃ±o." },
        { nombre: "Tick", rareza: "Superespecial", especialidad: "Lanzador", resumen: "Lanza minas que explotan despuÃ©s de un tiempo. Su cabeza es un misil buscador teledirigido." },
        { nombre: "8-Bit", rareza: "Superespecial", especialidad: "Francotirador", resumen: "MÃ¡quina recreativa con mucho daÃ±o. Su torreta de potenciaciÃ³n aumenta el daÃ±o de los aliados." },
        { nombre: "Rico", rareza: "Superespecial", especialidad: "Francotirador", resumen: "Sus balas rebotan en las paredes, permitiendo atacar enemigos detrÃ¡s de obstÃ¡culos." },
        { nombre: "Darryl", rareza: "Superespecial", especialidad: "Peso Pesado", resumen: "Rueda automÃ¡ticamente con su SÃºper y es fuerte en el cuerpo a cuerpo." },
        { nombre: "Penny", rareza: "Superespecial", especialidad: "Francotirador", resumen: "Su ataque principal explota y lanza metralla detrÃ¡s del objetivo. Su mortero ataca a distancia." },
        { nombre: "Carl", rareza: "Superespecial", especialidad: "Luchador", resumen: "Lanza un pico en forma de boomerang. Su SÃºper lo hace girar rÃ¡pidamente causando daÃ±o a su alrededor." },
        { nombre: "Jacky", rareza: "Superespecial", especialidad: "Peso Pesado", resumen: "Utiliza un taladro de Ã¡rea para daÃ±ar enemigos cercanos. Su SÃºper atrae a los oponentes." },
        { nombre: "Gus", rareza: "Superespecial", especialidad: "Apoyo", resumen: "Lanza globos que invocan un fantasma curativo o un escudo para un aliado." },

        { nombre: "Bo", rareza: "Ã‰pico", especialidad: "Francotirador", resumen: "Dispara flechas. Su SÃºper oculta minas explosivas que aturden a los enemigos." },
        { nombre: "Emz", rareza: "Ã‰pico", especialidad: "Luchadora", resumen: "RocÃ­a laca para el cabello que daÃ±a continuamente a los enemigos dentro de su cono de ataque." },
        { nombre: "Stu", rareza: "Ã‰pico", especialidad: "Asesino", resumen: "Su SÃºper se carga con solo un golpe, permitiÃ©ndole deslizarse rÃ¡pidamente y dejar un rastro de fuego." },
        { nombre: "Piper", rareza: "Ã‰pico", especialidad: "Francotirador", resumen: "Dispara balas que infligen mÃ¡s daÃ±o cuanto mayor es la distancia recorrida. Su SÃºper le permite saltar lejos." },
        { nombre: "Pam", rareza: "Ã‰pico", especialidad: "Apoyo", resumen: "Dispara una rÃ¡faga ancha de tuercas y tornillos. Su torreta de curaciÃ³n ayuda al equipo." },
        { nombre: "Frank", rareza: "Ã‰pico", especialidad: "Peso Pesado", resumen: "Golpea el suelo con un martillo gigante en un cono. Su SÃºper aturde a todos los enemigos a su alrededor." },
        { nombre: "Bibi", rareza: "Ã‰pico", especialidad: "Luchadora", resumen: "Usa un bate de bÃ©isbol con un ataque cargado para empujar a los enemigos." },
        { nombre: "Bea", rareza: "Ã‰pico", especialidad: "Francotirador", resumen: "Dispara abejas, siendo el segundo disparo supercargado y muy potente." },
        { nombre: "Nani", rareza: "Ã‰pico", especialidad: "Francotirador", resumen: "Dispara tres orbes que convergen en un punto. Su SÃºper es un dron controlable, 'Peep'." },
        { nombre: "Edgar", rareza: "Ã‰pico", especialidad: "Asesino", resumen: "Se cura con sus ataques bÃ¡sicos. Su SÃºper salta sobre los enemigos. Se carga automÃ¡ticamente." },
        { nombre: "Griff", rareza: "Ã‰pico", especialidad: "Luchador", resumen: "Lanza tres oleadas de monedas. Su SÃºper lanza billetes que regresan, haciendo daÃ±o doble." },
        { nombre: "Grom", rareza: "Ã‰pico", especialidad: "Lanzador", resumen: "Lanza un explosivo en forma de 'X' que explota al impactar. Su SÃºper es una granada de Ã¡rea." },
        { nombre: "Bonnie", rareza: "Ã‰pico", especialidad: "Luchadora", resumen: "Alterna entre una forma lenta de largo alcance (caÃ±Ã³n) y una forma rÃ¡pida de corto alcance (brawler)." },
        { nombre: "Gale", rareza: "Ã‰pico", especialidad: "Apoyo", resumen: "Dispara rÃ¡fagas anchas de nieve. Su SÃºper es un potente chorro de viento que empuja a los enemigos." },
        { nombre: "Colette", rareza: "Ã‰pico", especialidad: "Luchadora", resumen: "Inflige daÃ±o basado en el porcentaje de vida restante del objetivo. Su SÃºper carga y regresa a su posiciÃ³n inicial." },
        { nombre: "Belle", rareza: "Ã‰pico", especialidad: "Francotirador", resumen: "Su disparo principal rebota entre enemigos. Su SÃºper marca a un objetivo para que reciba mÃ¡s daÃ±o." },
        { nombre: "Ash", rareza: "Ã‰pico", especialidad: "Peso Pesado", resumen: "Se carga con rabia al recibir o infligir daÃ±o. Su SÃºper invoca pequeÃ±os robots limpiadores." },
        { nombre: "Lola", rareza: "Ã‰pico", especialidad: "Luchadora", resumen: "Dispara una rÃ¡faga de estrellas. Su SÃºper invoca un clon de sÃ­ misma que imita sus acciones." },
        { nombre: "Sam", rareza: "Ã‰pico", especialidad: "Peso Pesado", resumen: "Lucha con sus guantes de poder. Puede lanzar y recuperar sus guantes para recargar su SÃºper." },
        { nombre: "Mandy", rareza: "Ã‰pico", especialidad: "Francotirador", resumen: "Dispara caramelos, que se vuelven mÃ¡s fuertes y rÃ¡pidos mientras estÃ¡ inmÃ³vil." },
        { nombre: "Maisie", rareza: "Ã‰pico", especialidad: "Francotirador", resumen: "Dispara proyectiles que ganan velocidad al viajar. Su SÃºper empuja a los enemigos y causa daÃ±o." },
        { nombre: "Hank", rareza: "Ã‰pico", especialidad: "Peso Pesado", resumen: "Hincha un globo de burbujas para atacar. El tiempo de carga determina el daÃ±o." },
        { nombre: "Pearl", rareza: "Ã‰pico", especialidad: "Luchadora", resumen: "Su ataque se potencia con el calor acumulado. El SÃºper es una gran explosiÃ³n de enfriamiento." },
        { nombre: "Larry & Lawrie", rareza: "Ã‰pico", especialidad: "Lanzador", resumen: "Larry lanza granadas. Lawrie es su gemelo que lucha a su lado al activar el SÃºper." },
        { nombre: "Angelo", rareza: "Ã‰pico", especialidad: "Francotirador", resumen: "Dispara flechas que se cargan. Su SÃºper crea un charco que envenena a los enemigos." },
        { nombre: "Berry", rareza: "Ã‰pico", especialidad: "Lanzador", resumen: "Lanza frutas explosivas que rebotan. Su SÃºper le permite curar a sus aliados con bayas." },
        { nombre: "Shade", rareza: "Ã‰pico", especialidad: "Asesino", resumen: "Se mueve rÃ¡pido y es experto en emboscadas. Utiliza la oscuridad para volverse invisible brevemente." },
        { nombre: "Meeple", rareza: "Ã‰pico", especialidad: "Luchador", resumen: "Lucha junto a su compaÃ±ero robÃ³tico. Su SÃºper fusiona a ambos para obtener mÃ¡s poder." },
        { nombre: "Trunk", rareza: "Ã‰pico", especialidad: "Peso Pesado", resumen: "Utiliza un tronco gigante como arma que golpea en un amplio arco." }, 

        { nombre: "Mortis", rareza: "MÃ­tico", especialidad: "Asesino", resumen: "Se desliza por el mapa con su pala. Ideal para eliminar brawlers de baja vida rÃ¡pidamente." },
        { nombre: "Tara", rareza: "MÃ­tico", especialidad: "Luchadora", resumen: "Lanza tres cartas. Su SÃºper crea un agujero negro que junta a los enemigos para un ataque en Ã¡rea." },
        { nombre: "Genio", rareza: "MÃ­tico", especialidad: "Apoyo", resumen: "Lanza una bola de energÃ­a que se divide. Su SÃºper es una mano mÃ¡gica que atrae a un enemigo." },
        { nombre: "Max", rareza: "MÃ­tico", especialidad: "Apoyo", resumen: "Dispara rÃ¡fagas rÃ¡pidas. Su SÃºper aumenta la velocidad de movimiento de todos los aliados cercanos." },
        { nombre: "MrP", rareza: "MÃ­tico", especialidad: "Lanzador", resumen: "Lanza maletas que rebotan y hacen daÃ±o al caer y rebotar. Su SÃºper invoca pingÃ¼inos atacantes." },
        { nombre: "Sprout", rareza: "MÃ­tico", especialidad: "Lanzador", resumen: "Lanza semillas que rebotan. Su SÃºper crea un muro de setos para bloquear caminos." },
        { nombre: "Byron", rareza: "MÃ­tico", especialidad: "Apoyo", resumen: "Sus disparos bÃ¡sicos curan a aliados y daÃ±an a enemigos. Su SÃºper lanza un elixir curativo y daÃ±ino." },
        { nombre: "Squeak", rareza: "MÃ­tico", especialidad: "Lanzador", resumen: "Lanza baba pegajosa que se adhiere y explota despuÃ©s de un retraso." },
        { nombre: "Lou", rareza: "MÃ­tico", especialidad: "Apoyo", resumen: "Lanza conos de nieve que acumulan congelaciÃ³n. Su SÃºper crea un parche de hielo que hace resbalar a los enemigos." },
        { nombre: "Ruffs", rareza: "MÃ­tico", especialidad: "Apoyo", resumen: "Dispara dos lÃ¡seres rebotantes. Su SÃºper es un paquete de ayuda que otorga potenciadores de vida y daÃ±o." },
        { nombre: "Buzz", rareza: "MÃ­tico", especialidad: "Asesino", resumen: "Su SÃºper se carga al estar cerca de los enemigos. Lanza un salvavidas que lo arrastra hacia el objetivo." },
        { nombre: "Fang", rareza: "MÃ­tico", especialidad: "Asesino", resumen: "Patea palomitas de maÃ­z. Su SÃºper lo hace saltar entre enemigos con gran rapidez." },
        { nombre: "Eve", rareza: "MÃ­tico", especialidad: "Lanzadora", resumen: "Lanza huevos que se dividen en mini-criaturas. Puede flotar sobre el agua." },
        { nombre: "Janet", rareza: "MÃ­tico", especialidad: "Luchadora", resumen: "Dispara ondas de sonido de largo alcance. Su SÃºper le permite volar libremente y soltar bombas." },
        { nombre: "Otis", rareza: "MÃ­tico", especialidad: "Luchador", resumen: "Dispara estrellas de pintura. Su SÃºper silencia al enemigo, impidiendo que ataque o use sus habilidades." },
        { nombre: "Buster", rareza: "MÃ­tico", especialidad: "Peso Pesado", resumen: "Tiene un cono de ataque frontal de corto alcance. Su SÃºper crea un escudo reflectante." },
        { nombre: "Gray", rareza: "MÃ­tico", especialidad: "Apoyo", resumen: "Puede crear portales que transportan a Ã©l y a sus aliados a otra ubicaciÃ³n." },
        { nombre: "R-T", rareza: "MÃ­tico", especialidad: "Francotirador", resumen: "Dispara un rayo que se divide en dos al impactar. Su SÃºper divide su cuerpo en dos entidades." },
        { nombre: "Willow", rareza: "MÃ­tico", especialidad: "Lanzadora", resumen: "Lanza proyectiles que hacen daÃ±o en el tiempo. Su SÃºper le permite tomar el control de un enemigo por un tiempo limitado." },
        { nombre: "Doug", rareza: "MÃ­tico", especialidad: "Apoyo", resumen: "Tiene un aura de curaciÃ³n y puede revivir a aliados con su SÃºper." },
        { nombre: "Chuck", rareza: "MÃ­tico", especialidad: "Asesino", resumen: "Coloca postes de tren y se desliza entre ellos con su SÃºper, causando daÃ±o al pasar." },
        { nombre: "Charlie", rareza: "MÃ­tico", especialidad: "Luchadora", resumen: "Lanza un yo-yo que regresa. Su SÃºper envuelve a los enemigos en un capullo inmovilizador." },
        { nombre: "Mico", rareza: "MÃ­tico", especialidad: "Asesino", resumen: "Salta a corta distancia con sus bÃ¡sicos. Su SÃºper lo eleva por el aire, haciÃ©ndolo inmune al daÃ±o." },
        { nombre: "Melodie", rareza: "MÃ­tico", especialidad: "Luchadora", resumen: "Lanza notas musicales que orbitan a su alrededor. Puede usar su SÃºper para teletransportarse." },
        { nombre: "Lily", rareza: "MÃ­tico", especialidad: "Asesina", resumen: "ApuÃ±ala con su flor. Puede teletransportarse detrÃ¡s de los enemigos con su SÃºper." },
        { nombre: "Clancy", rareza: "MÃ­tico", especialidad: "Lanzador", resumen: "Un lanzador de largo alcance que usa objetos pesados. Su SÃºper es una gran trampa." },
        { nombre: "Moe", rareza: "MÃ­tico", especialidad: "Apoyo", resumen: "Se enfoca en debilitar a los enemigos para que su equipo los remate." },
        { nombre: "Juju", rareza: "MÃ­tico", especialidad: "Luchador", resumen: "Utiliza un arma de medio alcance con un SÃºper de defensa activa." },
        { nombre: "Ollie", rareza: "MÃ­tico", especialidad: "Asesino", resumen: "Se especializa en emboscadas desde las sombras, con gran movilidad." },
        { nombre: "Lumi", rareza: "MÃ­tico", especialidad: "Francotirador", resumen: "Un francotirador con habilidades de visiÃ³n a travÃ©s de obstÃ¡culos." },
        { nombre: "Finx", rareza: "MÃ­tico", especialidad: "Peso Pesado", resumen: "Un brawler defensivo con habilidades para ralentizar a los atacantes." },
        { nombre: "Jae-Yong", rareza: "MÃ­tico", especialidad: "Luchador", resumen: "Utiliza un estilo de combate basado en combos de golpes cuerpo a cuerpo." },
        { nombre: "Alli", rareza: "MÃ­tico", especialidad: "Apoyo", resumen: "Su enfoque es aumentar la velocidad de ataque y recarga de sus compaÃ±eros." },
        { nombre: "Mina", rareza: "MÃ­tico", especialidad: "Lanzadora", resumen: "Lanza minas que se adhieren y explotan solo cuando el enemigo se mueve cerca." },
        { nombre: "Ziggy", rareza: "MÃ­tico", especialidad: "Luchador", resumen: "Se especializa en ataques que rebotan para limpiar grupos de enemigos." },
        { nombre: "Gigi", rareza: "MÃ­tico", especialidad: "Asesina", resumen: "Una brawler rÃ¡pida que inflige daÃ±o por veneno con sus ataques bÃ¡sicos." },

        { nombre: "Spike", rareza: "Legendario", especialidad: "Francotirador", resumen: "Lanza un cactus que explota, dispersando espinas en varias direcciones. Su SÃºper ralentiza y daÃ±a con pÃºas." },
        { nombre: "Crow", rareza: "Legendario", especialidad: "Asesino", resumen: "Lanza dagas envenenadas que infligen daÃ±o por tiempo. Su SÃºper lo hace saltar y caer con una lluvia de dagas." },
        { nombre: "Leon", rareza: "Legendario", especialidad: "Asesino", resumen: "Lanza cuchillas giratorias. Su SÃºper lo hace invisible por un corto tiempo, perfecto para emboscadas." },
        { nombre: "Sandy", rareza: "Legendario", especialidad: "Apoyo", resumen: "Lanza arena. Su SÃºper invoca una tormenta de arena que oculta a los aliados en su Ã¡rea." },
        { nombre: "Amber", rareza: "Legendario", especialidad: "Luchadora", resumen: "Dispara un flujo constante de llamas. Su SÃºper lanza un charco de aceite que puede prender fuego." },
        { nombre: "Meg", rareza: "Legendario", especialidad: "Peso Pesado", resumen: "Lucha principalmente en un frÃ¡gil traje robÃ³tico, pero su SÃºper la transforma en un poderoso meca." },
        { nombre: "Surge", rareza: "Legendario", especialidad: "Luchador", resumen: "Se potencia y evoluciona con cada uso de su SÃºper, mejorando su velocidad y rango de ataque." },
        { nombre: "Chester", rareza: "Legendario", especialidad: "Luchador", resumen: "Su SÃºper cambia aleatoriamente entre varias habilidades explosivas o de apoyo." },
        { nombre: "Cordelius", rareza: "Legendario", especialidad: "Asesino", resumen: "Dispara hongos. Su SÃºper transporta a sÃ­ mismo y a un enemigo a una 'DimensiÃ³n Sombra' para un duelo." },
        { nombre: "Kit", rareza: "Legendario", especialidad: "Asesino", resumen: "Un gato que puede saltar sobre otros brawlers y aferrarse a ellos para atacar o curar." },
        { nombre: "Draco", rareza: "Legendario", especialidad: "Peso Pesado", resumen: "Monta un dragÃ³n, su SÃºper inflige gran daÃ±o en un Ã¡rea amplia." },
        { nombre: "Kenji", rareza: "Legendario", especialidad: "Asesino", resumen: "Utiliza habilidades ninja de alta velocidad y ataques precisos." },
        { nombre: "Buzz Lightyear", rareza: "Legendario", especialidad: "Apoyo", resumen: "Un brawler de evento con habilidades Ãºnicas de control de masas." }, 

        { nombre: "Kaze", rareza: "Ultralegendario", especialidad: "Especialista", resumen: "Posee habilidades que combinan elementos de varios tipos de brawlers, siendo muy versÃ¡til." },
    ];


    const rarezaMap = {
      'comun': 'ComÃºn', 'comÃºn': 'ComÃºn',
      'especial': 'Especial',
      'superespecial': 'Superespecial', 'super especial': 'Superespecial',
      'epico': 'Ã‰pico', 'Ã©pico': 'Ã‰pico',
      'mitico': 'MÃ­tico', 'mÃ­tico': 'MÃ­tico', 'mÃ­tico ': 'MÃ­tico',
      'legendario': 'Legendario',
      'ultralegendario': 'Ultralegendario', 'ultra legendario': 'Ultralegendario'
    };

    function normalizeRareza(r){
      const key = (r||'').toString().trim().toLowerCase();
      return rarezaMap[key] || r;
    }

    (function normalizeAndDeduplicate(){
      const seen = new Map();
      const result = [];
      for (const b of brawlers) {
        const nombre = (b.nombre || '').toString().trim();
        if (!nombre) continue;
        const key = nombre.toLowerCase();
        if (seen.has(key)) {
          const prev = seen.get(key);
          if (!prev.rareza && b.rareza) prev.rareza = normalizeRareza(b.rareza);
          continue;
        }
        const item = {
          nombre: nombre,
          rareza: normalizeRareza(b.rareza || 'ComÃºn'),
          especialidad: b.especialidad || 'Desconocida', 
          resumen: b.resumen || 'InformaciÃ³n no disponible.'
        };
        seen.set(key, item);
        result.push(item);
      }
      brawlers = result;
    })();

    function normalizeToFilename(name){
      const mapAccents = { 'Ã¡':'a','Ã©':'e','Ã­':'i','Ã³':'o','Ãº':'u','Ã':'A','Ã‰':'E','Ã':'I','Ã“':'O','Ãš':'U','Ã±':'n','Ã‘':'N' };
      let s = name.split('').map(ch => mapAccents[ch] || ch).join('');
      s = s.replace(/[^0-9A-Za-z\s]/g, ' '); 
      const parts = s.trim().split(/\s+/).filter(Boolean);
      const joined = parts.map(p => p.charAt(0).toUpperCase()+p.slice(1)).join('');
      return `../img/${joined}.png`;
    }

    function getUniqueRarities(list){
      const set = new Set(list.map(b => b.rareza));
      const order = ["ComÃºn","Especial","Superespecial","Ã‰pico","MÃ­tico","Legendario","Ultralegendario"];
      const rarities = Array.from(set);
      rarities.sort((a,b)=>{
        const ia = order.indexOf(a) === -1 ? 999 : order.indexOf(a);
        const ib = order.indexOf(b) === -1 ? 999 : order.indexOf(b);
        return ia - ib;
      });
      return ['Todos', ...rarities];
    }

    // RENDER
    const filtersContainer = document.getElementById('filters');
    const grid = document.getElementById('brawlersGrid');
    const searchInput = document.getElementById('searchInput');

    let activeFilter = 'Todos';
    let searchTerm = '';

    function renderFilterPills(){
      filtersContainer.innerHTML = '';
      const rarities = getUniqueRarities(brawlers);
      rarities.forEach(r => {
        const span = document.createElement('span');
        span.className = 'filter-pill' + (r === activeFilter ? ' active' : '');
        span.textContent = r;
        span.dataset.rarity = r;
        span.addEventListener('click', ()=> {
          activeFilter = r;
          renderFilterPills();
          renderGrid();
        });
        filtersContainer.appendChild(span);
      });
    }

    function renderGrid(){
      grid.innerHTML = '';
      const term = searchTerm.trim().toLowerCase();

      const filtered = brawlers.filter(b => {
        if(activeFilter !== 'Todos' && b.rareza !== activeFilter) return false;
        if(term && !b.nombre.toLowerCase().includes(term)) return false;
        return true;
      });

      if(filtered.length === 0){
        grid.innerHTML = `<div style="color:#ccc;padding:20px">No se encontraron brawlers.</div>`;
        return;
      }
      
      // CÃ¡lculo dinÃ¡mico de columnas para voltear el tooltip
      const containerWidth = grid.offsetWidth;
      const estimatedItemWidth = 176; 
      const columnCount = Math.floor(containerWidth / estimatedItemWidth);
      
      // NÃºmero de columnas desde el borde derecho que deben voltear el tooltip
      // Usamos 2 o 3 para asegurar que haya espacio en la izquierda.
      const swapColumns = Math.min(3, Math.max(1, Math.ceil(columnCount / 3)));

      filtered.forEach((b, index) => {
        const imgPath = normalizeToFilename(b.nombre);
        const card = document.createElement('div');
        card.className = 'brawler-item';

        // LÃ³gica para voltear el tooltip (si estÃ¡ en las Ãºltimas 'swapColumns')
        if (columnCount > 1 && (columnCount - (index % columnCount) <= swapColumns)) {
            card.classList.add('tooltip-swap');
        }

        // Estructura del Brawler y el Tooltip (activado por CSS :hover)
        card.innerHTML = `
          <div class="brawler-avatar" aria-hidden="true">
            <img src="${imgPath}" alt="${b.nombre}" 
              onerror="this.onerror=null; this.src='data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22300%22 height=%22120%22><rect width=%22100%25%22 height=%22100%25%22 fill=%22%232b2b3a%22 rx=%2212%22/></svg>'" />
          </div>

          <div class="brawler-name" aria-label="Nombre del brawler">${b.nombre}</div>

          <div class="brawler-rarity rare-${b.rareza.replace(/\s+/g,'')}" aria-label="Rareza">
            ${b.rareza}
          </div>

          <div class="brawler-tooltip">
            <div class="tooltip-title">${b.nombre}</div>
            <p class="tooltip-spec"><strong>Rareza:</strong> ${b.rareza}</p>
            <p class="tooltip-spec"><strong>Especialidad:</strong> ${b.especialidad}</p>
            <hr style="border:0;border-top:1px dashed rgba(255,255,255,0.2);margin:8px 0;">
            <p style="font-size:0.85rem;line-height:1.4;color:#ccc;">${b.resumen}</p>
          </div>
        `;

        // efecto click pequeÃ±o (opcional)
        card.addEventListener('click', ()=> {
          card.style.transform = 'scale(0.99)';
          setTimeout(()=> card.style.transform = '',120);
        });

        grid.appendChild(card);
      });
    }

    // BUSQUEDA por NOMBRE
    searchInput.addEventListener('input', e => {
      searchTerm = e.target.value;
      renderGrid();
    });
    
    // RE-RENDERIZAR en cambio de tamaÃ±o de pantalla (para ajustar columnas)
    window.addEventListener('resize', renderGrid);


    // Inicializar
    renderFilterPills();
    renderGrid();

  </script>
</body>
</html>